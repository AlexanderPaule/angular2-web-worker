webpackJsonp([1,4],{300:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){function t(t,e,r){void 0===r&&(r=!0),this.number=t,this.result=e,this.loading=r}return t}()},343:function(t,e){function r(t){throw new Error("Cannot find module '"+t+"'.")}r.keys=function(){return[]},r.resolve=r,t.exports=r,r.id=343},344:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=r(432),o=r(0),i=r(456),a=r(453);i.a.production&&r.i(o.a)(),r.i(n.a)().bootstrapModule(a.a)},452:function(t,e,r){"use strict";var n=r(0),o=r(454),i=r(300);r.d(e,"a",function(){return u});var a=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(){this.webWorkerStart=35,this.webWorkerEnd=42,this.worker=new o.a,this.startWebWorkerCalculation()}return t.prototype.startWebWorkerCalculation=function(){this.initialize();var t=Math.floor(this.webWorkerStart),e=Math.floor(this.webWorkerEnd)+1;for(this.stopWebWorkerCalculation(),t<0&&(t=0),0==t&&(this.webWorkerResults.push(new i.a(-1,0,!1)),t++);t<e;){var r=this.worker.calculate(t-1);this.webWorkerResults.push(r.result),this.promises.push(r.promise),t++}},t.prototype.stopWebWorkerCalculation=function(){for(var t=this.promises.length-1;t>-1;t--)this.worker.terminate(this.promises[t]),void 0!==this.webWorkerResults[t]&&this.webWorkerResults[t].loading&&this.webWorkerResults.splice(t,1)},t.prototype.reset=function(){this.webWorkerStart=35,this.webWorkerEnd=42,this.stopWebWorkerCalculation(),this.initialize()},t.prototype.initialize=function(){this.webWorkerResults=[],this.promises=[]},t=a([r.i(n.U)({selector:"app-root",template:r(609),styles:[r(608)],providers:[o.a]}),s("design:paramtypes",[])],t)}()},453:function(t,e,r){"use strict";var n=r(191),o=r(0),i=r(422),a=r(428),s=r(452);r.d(e,"a",function(){return p});var u=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},p=function(){function t(){}return t=u([r.i(o.b)({declarations:[s.a],imports:[n.a,i.a,a.a],providers:[],bootstrap:[s.a]}),c("design:paramtypes",[])],t)}()},454:function(t,e,r){"use strict";var n=r(0),o=r(300),i=r(455);r.d(e,"a",function(){return c});var a=this&&this.__extends||function(t,e){function r(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)},s=this&&this.__decorate||function(t,e,r,n){var o,i=arguments.length,a=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,r,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(a=(i<3?o(a):i>3?o(e,r,a):o(e,r))||a);return i>3&&a&&Object.defineProperty(e,r,a),a},u=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(t){function e(){t.apply(this,arguments)}return a(e,t),e.prototype.calculate=function(t){var e=this.run(this.fib,t),r=new o.a(t,0,!0);return e.then(function(t){r.result=t,r.loading=!1}),{result:r,promise:e}},e.prototype.fib=function(t){var e=function(t){return t<2?1:e(t-1)+e(t-2)};return e(t)},e=s([r.i(n.d)(),u("design:paramtypes",[])],e)}(i.a)},455:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(){function t(){this.workerFunctionToUrlMap=new WeakMap,this.promiseToWorkerMap=new WeakMap}return t.prototype.run=function(t,e){var r=this.getOrCreateWorkerUrl(t);return this.runUrl(r,e)},t.prototype.terminate=function(t){return this.removePromise(t)},t.prototype.runUrl=function(t,e){var r=new Worker(t),n=this.createPromiseForWorker(r,e),o=this.createPromiseCleaner(n);return this.promiseToWorkerMap.set(n,r),n.then(o).catch(o),n},t.prototype.getWorker=function(t){return this.promiseToWorkerMap.get(t)},t.prototype.createPromiseForWorker=function(t,e){return new Promise(function(r,n){t.addEventListener("message",function(t){return r(t.data)}),t.addEventListener("error",n),t.postMessage(e)})},t.prototype.getOrCreateWorkerUrl=function(t){if(!this.workerFunctionToUrlMap.has(t)){var e=this.createWorkerUrl(t);return this.workerFunctionToUrlMap.set(t,e),e}return this.workerFunctionToUrlMap.get(t)},t.prototype.createWorkerUrl=function(t){var e=t.toString(),r="\n            self.addEventListener('message', function(e) {\n                postMessage(("+e+")(e.data));\n            });\n        ",n=new Blob([r],{type:"text/javascript"});return URL.createObjectURL(n)},t.prototype.createPromiseCleaner=function(t){var e=this;return function(r){return e.removePromise(t),r}},t.prototype.removePromise=function(t){var e=this.promiseToWorkerMap.get(t);return e&&e.terminate(),this.promiseToWorkerMap.delete(t),t},t}()},456:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n={production:!0}},608:function(t,e){t.exports="#container{position:absolute;left:0;top:0;text-align:center;width:100vw;height:100vh;background-color:#aaa;font-family:Verdana}.subcontainer{position:absolute;top:15vh;left:30vw;width:40vw}.element{width:100%;text-align:left;padding-bottom:.5vh}"},609:function(t,e){t.exports="<div id=\"container\">\n\t<h2>Calculating Fibonacci</h2>\n\t<h4>Demo Using Web Worker</h4>\n    <div class=\"subcontainer\">\n        <form (ngSubmit)='startWebWorkerCalculation()'>\n\t        <div class=\"element\">\n\t\t        <span>calculate fib(n) from</span>\n\t\t        <input type='number' [(ngModel)]='webWorkerStart' name='webWorkerStart' />\n\t        </div>\n\t        <div class=\"element\">\n\t\t        <span>to:</span>\n\t\t        <input type='number' [(ngModel)]='webWorkerEnd' name='webWorkerEnd' />\n\t        </div>\n\t        <div class=\"element\">\n\t        \t<button type='submit'>Start</button>\n\t\t        <button type='button' (click)='stopWebWorkerCalculation()'>Stop</button>\n\t\t        <button type='button' (click)='reset()'>Reset</button>\n\t        </div>\n        </form>\n        <div>\n\t\t    <p *ngFor='let result of webWorkerResults'>\n\t\t        fib({{ result.number + 1 }}) = \n\t\t        <span *ngIf='result.loading'> Loading... </span>\n\t\t        <span *ngIf='!result.loading'>{{ result.result }}</span> \n\t\t    </p>\n\t    </div>\n\t</div>\n</div>"},621:function(t,e,r){t.exports=r(344)}},[621]);